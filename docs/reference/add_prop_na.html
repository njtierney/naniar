<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add column containing proportion of missing data values — add_prop_na • naniar</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">naniar</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started-w-naniar.html">Getting Started with naniar</a>
    </li>
    <li>
      <a href="../articles/naniar-visualisation.html">Gallery of missing data visualisations with naniar + visdat</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/njtierney/naniar">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add column containing proportion of missing data values</h1>
    </div>

    
    <p>It can be useful when doing data analysis to add the proportion of missing
data values into your dataframe. <code>add_prop_na</code> adds a column named
"prop_na", which contains the proportion of missing values in that row.
You can specify the variables that you would like to show the missingness
for.</p>
    

    <pre class="usage"><span class='fu'>add_prop_na</span>(<span class='no'>data</span>, <span class='no'>...</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"prop_na"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a dataframe</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Variable names to use instead of the whole dataset. By default this
looks at the whole dataset. Otherwise, this is one or more unquoted
expressions separated by commas. These also respect the dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc. By default will add "_all" to
the label if left blank, otherwise will add "_vars" to distinguish that it
has not been used on all of the variables.</p></td>
    </tr>
    <tr>
      <th>label</th>
      <td><p>character string of what you need to name variable</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a dataframe</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>airquality</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_prop_na</span>()</div><div class='output co'>#&gt; # tibble [153 x 7]
#&gt;    Ozone Solar.R  Wind  Temp Month   Day prop_na_all
#&gt;    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;       &lt;dbl&gt;
#&gt;  1    41     190   7.4    67     5     1   0.0000000
#&gt;  2    36     118   8.0    72     5     2   0.0000000
#&gt;  3    12     149  12.6    74     5     3   0.0000000
#&gt;  4    18     313  11.5    62     5     4   0.0000000
#&gt;  5    NA      NA  14.3    56     5     5   0.3333333
#&gt;  6    28      NA  14.9    66     5     6   0.1666667
#&gt;  7    23     299   8.6    65     5     7   0.0000000
#&gt;  8    19      99  13.8    59     5     8   0.0000000
#&gt;  9     8      19  20.1    61     5     9   0.0000000
#&gt; 10    NA     194   8.6    69     5    10   0.1666667
#&gt; # ... with 143 more rows</div><div class='input'>
<span class='no'>airquality</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_prop_na</span>(<span class='no'>Solar.R</span>)</div><div class='output co'>#&gt; # A tibble: 153 x 7
#&gt;    Ozone Solar.R  Wind  Temp Month   Day prop_na_vars
#&gt;    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;        &lt;dbl&gt;
#&gt;  1    41     190   7.4    67     5     1            0
#&gt;  2    36     118   8.0    72     5     2            0
#&gt;  3    12     149  12.6    74     5     3            0
#&gt;  4    18     313  11.5    62     5     4            0
#&gt;  5    NA      NA  14.3    56     5     5            1
#&gt;  6    28      NA  14.9    66     5     6            1
#&gt;  7    23     299   8.6    65     5     7            0
#&gt;  8    19      99  13.8    59     5     8            0
#&gt;  9     8      19  20.1    61     5     9            0
#&gt; 10    NA     194   8.6    69     5    10            0
#&gt; # ... with 143 more rows</div><div class='input'>
<span class='no'>airquality</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_prop_na</span>(<span class='no'>Solar.R</span>, <span class='no'>Ozone</span>)</div><div class='output co'>#&gt; # A tibble: 153 x 7
#&gt;    Ozone Solar.R  Wind  Temp Month   Day prop_na_vars
#&gt;    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;        &lt;dbl&gt;
#&gt;  1    41     190   7.4    67     5     1          0.0
#&gt;  2    36     118   8.0    72     5     2          0.0
#&gt;  3    12     149  12.6    74     5     3          0.0
#&gt;  4    18     313  11.5    62     5     4          0.0
#&gt;  5    NA      NA  14.3    56     5     5          1.0
#&gt;  6    28      NA  14.9    66     5     6          0.5
#&gt;  7    23     299   8.6    65     5     7          0.0
#&gt;  8    19      99  13.8    59     5     8          0.0
#&gt;  9     8      19  20.1    61     5     9          0.0
#&gt; 10    NA     194   8.6    69     5    10          0.5
#&gt; # ... with 143 more rows</div><div class='input'>
<span class='no'>airquality</span> <span class='kw'>%&gt;%</span> <span class='fu'>add_prop_na</span>(<span class='no'>Solar.R</span>, <span class='no'>Ozone</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"testing"</span>)</div><div class='output co'>#&gt; # A tibble: 153 x 7
#&gt;    Ozone Solar.R  Wind  Temp Month   Day testing_vars
#&gt;    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;        &lt;dbl&gt;
#&gt;  1    41     190   7.4    67     5     1          0.0
#&gt;  2    36     118   8.0    72     5     2          0.0
#&gt;  3    12     149  12.6    74     5     3          0.0
#&gt;  4    18     313  11.5    62     5     4          0.0
#&gt;  5    NA      NA  14.3    56     5     5          1.0
#&gt;  6    28      NA  14.9    66     5     6          0.5
#&gt;  7    23     299   8.6    65     5     7          0.0
#&gt;  8    19      99  13.8    59     5     8          0.0
#&gt;  9     8      19  20.1    61     5     9          0.0
#&gt; 10    NA     194   8.6    69     5    10          0.5
#&gt; # ... with 143 more rows</div><div class='input'>
<span class='co'># this can be applied to model the proportion of missing data</span>
<span class='co'># as in Tierney et al bmjopen.bmj.com/content/5/6/e007450.full</span>
<span class='fu'>library</span>(<span class='no'>rpart</span>)
<span class='fu'>library</span>(<span class='no'>rpart.plot</span>)

<span class='no'>airquality</span> <span class='kw'>%&gt;%</span>
<span class='fu'>add_prop_na</span>() <span class='kw'>%&gt;%</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/rpart/topics/rpart'>rpart</a></span>(<span class='no'>prop_na_all</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>.</span>) <span class='kw'>%&gt;%</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/rpart.plot/topics/prp'>prp</a></span>(<span class='kw'>type</span> <span class='kw'>=</span> <span class='fl'>4</span>,
    <span class='kw'>extra</span> <span class='kw'>=</span> <span class='fl'>101</span>,
    <span class='kw'>prefix</span> <span class='kw'>=</span> <span class='st'>"prop_na = "</span>)</div><div class='img'><img src='add_prop_na-1.png' alt='' width='700' height='432.632880098887' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nicholas Tierney, Di Cook, Miles McBain, Colin Fay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gallery of Missing Data Visualisations • naniar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Gallery of Missing Data Visualisations">
<meta property="og:description" content="">
<meta property="og:image" content="http://naniar.njtierney.com/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">naniar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/getting-started-w-naniar.html">Getting Started</a>
</li>
<li>
  <a href="../articles/naniar-visualisation.html">Gallery</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/replace-with-na.html">Replace with NA</a>
    </li>
    <li>
      <a href="../articles/special-missing-values.html">Special Missings</a>
    </li>
    <li>
      <a href="../articles/exploring-imputed-values.html">Exploring Imputations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/njtierney/naniar">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="naniar-visualisation_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Gallery of Missing Data Visualisations</h1>
                        <h4 class="author">Nicholas Tierney</h4>
            
            <h4 class="date">2020-09-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/njtierney/naniar/blob/master/vignettes/naniar-visualisation.Rmd"><code>vignettes/naniar-visualisation.Rmd</code></a></small>
      <div class="hidden name"><code>naniar-visualisation.Rmd</code></div>

    </div>

    
    
<p>There are a variety of different plots to explore missing data available in the naniar package. This vignette simply showcases all of the visualisations. If you would like to know more about the philosophy of the <code>naniar</code> package, you should read the vignette <a href="http://naniar.njtierney.com/articles/getting-started-w-naniar.html">Getting Started with naniar</a>.</p>
<p>A key point to remember with the visualisation tools in <code>naniar</code> is that there is a way to get the data from the plot out from the visualisation.</p>
<div id="getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h1>
<p>One of the first plots that I recommend you start with when you are first exploring your missing data, is the <code><a href="http://visdat.njtierney.com//reference/vis_miss.html">vis_miss()</a></code> plot, which is re-exported from <a href="https://github.com/ropensci/visdat"><code>visdat</code></a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(naniar)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="http://visdat.njtierney.com//reference/vis_miss.html">vis_miss</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/vis-miss-1.png" width="500" style="display: block; margin: auto;"></p>
<p>This plot provides a specific visualiation of the amount of missing data, showing in black the location of missing values, and also providing information on the overall percentage of missing values overall (in the legend), and in each variable.</p>
<div id="exploring-patterns-with-upsetr" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-patterns-with-upsetr" class="anchor"></a>Exploring patterns with UpSetR</h2>
<p>An upset plot from the <code>UpSetR</code> package can be used to visualise the patterns of missingness, or rather the combinations of missingness across cases. To see combinations of missingness and intersections of missingness amongst variables, use the <code>gg_miss_upset</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-1.png" width="500" style="display: block; margin: auto;"></p>
<p>This tells us:</p>
<ul>
<li>Only Ozone and Solar.R have missing values</li>
<li>Ozone has the most missing values</li>
<li>There are 2 cases where both Solar.R and Ozone have missing values together</li>
</ul>
<p>We can explore this with more complex data, such as riskfactors:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span>(riskfactors)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/upset-plot-riskfactors-1.png" width="500" style="display: block; margin: auto;"></p>
<p>The default option of <code>gg_miss_upset</code> is taken from <code><a href="https://rdrr.io/pkg/UpSetR/man/upset.html">UpSetR::upset</a></code> - which is to use up to 5 sets and up to 40 interactions. Here, setting <code>nsets = 5</code> means to look at 5 variables and their combinations. The number of combinations or rather <code>intersections</code> is controlled by <code>nintersects</code>. You could, for example look at all of the number of missing variables using <code>n_var_miss</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># how many missings?</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="../reference/n-var-case-miss.html">n_var_miss</a></span>(riskfactors)</span></code></pre></div>
<pre><code>## [1] 24</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span>(riskfactors, <span class="dt">nsets =</span> <span class="kw"><a href="../reference/n-var-case-miss.html">n_var_miss</a></span>(riskfactors))</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-n-var-miss-1.png" width="500" style="display: block; margin: auto;"></p>
<p>If there are 40 intersections, there will be up to 40 combinations of variables explored. The number of sets and intersections can be changed by passing arguments <code>nsets = 10</code> to look at 10 sets of variables, and <code>nintersects = 50</code> to look at 50 intersections.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span>(riskfactors, </span>
<span id="cb7-2"><a href="#cb7-2"></a>              <span class="dt">nsets =</span> <span class="dv">10</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>              <span class="dt">nintersects =</span> <span class="dv">50</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-n-sets-1.png" width="500" style="display: block; margin: auto;"></p>
<p>Setting <code>nintersects</code> to <code>NA</code> it will plot all sets and all intersections.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span>(riskfactors, </span>
<span id="cb8-2"><a href="#cb8-2"></a>              <span class="dt">nsets =</span> <span class="dv">10</span>,</span>
<span id="cb8-3"><a href="#cb8-3"></a>              <span class="dt">nintersects =</span> <span class="ot">NA</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-nintersect-NA-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="exploring-missingness-mechanisms" class="section level1">
<h1 class="hasAnchor">
<a href="#exploring-missingness-mechanisms" class="anchor"></a>Exploring Missingness Mechanisms</h1>
<p>There are a few different ways to explore different missing data mechanisms and relationships. One way incorporates the method of shifting missing values so that they can be visualised on the same axes as the regular values, and then colours the missing and not missing points. This is implemented with <code><a href="../reference/geom_miss_point.html">geom_miss_point()</a></code>.</p>
<div id="geom_miss_point" class="section level2">
<h2 class="hasAnchor">
<a href="#geom_miss_point" class="anchor"></a><code>geom_miss_point</code>
</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co"># using regular geom_point()</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(airquality,</span>
<span id="cb9-4"><a href="#cb9-4"></a>       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> Ozone,</span>
<span id="cb9-5"><a href="#cb9-5"></a>           <span class="dt">y =</span> Solar.R)) <span class="op">+</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>()</span></code></pre></div>
<pre><code>## Warning: Removed 42 rows containing missing values (geom_point).</code></pre>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(naniar)</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co"># using  geom_miss_point()</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(airquality,</span>
<span id="cb11-5"><a href="#cb11-5"></a>       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> Ozone,</span>
<span id="cb11-6"><a href="#cb11-6"></a>           <span class="dt">y =</span> Solar.R)) <span class="op">+</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="st"> </span><span class="kw"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span>()</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Facets!</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(airquality,</span>
<span id="cb12-3"><a href="#cb12-3"></a>       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> Ozone,</span>
<span id="cb12-4"><a href="#cb12-4"></a>           <span class="dt">y =</span> Solar.R)) <span class="op">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="st"> </span><span class="kw"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>Month)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-3.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># Themes</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(airquality,</span>
<span id="cb13-3"><a href="#cb13-3"></a>       <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> Ozone,</span>
<span id="cb13-4"><a href="#cb13-4"></a>           <span class="dt">y =</span> Solar.R)) <span class="op">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="st"> </span><span class="kw"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_dark</a></span>()</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-4.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="general-visual-summaries-of-missing-data" class="section level1">
<h1 class="hasAnchor">
<a href="#general-visual-summaries-of-missing-data" class="anchor"></a>General visual summaries of missing data</h1>
<p>Here are some function that provide quick summaries of missingness in your data, they all start with <code>gg_miss_</code> - so that they are easy to remember and tab-complete.</p>
<div id="missingness-in-variables-with-gg_miss_var" class="section level2">
<h2 class="hasAnchor">
<a href="#missingness-in-variables-with-gg_miss_var" class="anchor"></a>Missingness in variables with <code>gg_miss_var</code>
</h2>
<p>This plot shows the number of missing values in each variable in a dataset. It is powered by the <code><a href="../reference/miss_var_summary.html">miss_var_summary()</a></code> function.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span>(airquality) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">y =</span> <span class="st">"Look at all the missing ones"</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-2.png" width="500" style="display: block; margin: auto;"></p>
<p>If you wish, you can also change whether to show the % of missing instead with <code>show_pct = TRUE</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span>(airquality, <span class="dt">show_pct =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-show-pct-1.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also plot the number of missings in a variable grouped by another variable using the <code>facet</code> argument.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span>(airquality,</span>
<span id="cb17-2"><a href="#cb17-2"></a>            <span class="dt">facet =</span> Month)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div id="missingness-in-cases-with-gg_miss_case" class="section level2">
<h2 class="hasAnchor">
<a href="#missingness-in-cases-with-gg_miss_case" class="anchor"></a>Missingness in cases with <code>gg_miss_case</code>
</h2>
<p>This plot shows the number of missing values in each case. It is powered by the <code><a href="../reference/miss_case_summary.html">miss_case_summary()</a></code> function.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span>(airquality) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">x =</span> <span class="st">"Number of Cases"</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-2.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also order by the number of cases using <code>order_cases = TRUE</code></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span>(airquality, <span class="dt">order_cases =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-order-by-case-1.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also explore the missingness in cases over some variable using <code>facet = Month</code></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span>(airquality, <span class="dt">facet =</span> Month)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div id="missingness-across-factors-with-gg_miss_fct" class="section level2">
<h2 class="hasAnchor">
<a href="#missingness-across-factors-with-gg_miss_fct" class="anchor"></a>Missingness across factors with <code>gg_miss_fct</code>
</h2>
<p>This plot shows the number of missings in each column, broken down by a categorical variable from the dataset. It is powered by a <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">dplyr::group_by</a></code> statement followed by <code><a href="../reference/miss_var_summary.html">miss_var_summary()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span>(<span class="dt">x =</span> riskfactors, <span class="dt">fct =</span> marital)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-fct-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="kw"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span>(<span class="dt">x =</span> riskfactors, <span class="dt">fct =</span> marital) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">title =</span> <span class="st">"NA in Risk Factors and Marital status"</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-fct-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># using group_by</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: 'dplyr'</code></pre>
<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>riskfactors <span class="op">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(marital) <span class="op">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="st">  </span><span class="kw"><a href="../reference/miss_var_summary.html">miss_var_summary</a></span>()</span></code></pre></div>
<pre><code>## # A tibble: 231 x 4
## # Groups:   marital [7]
##    marital variable      n_miss pct_miss
##    &lt;fct&gt;   &lt;chr&gt;          &lt;int&gt;    &lt;dbl&gt;
##  1 Married smoke_stop       120    91.6 
##  2 Married pregnant         117    89.3 
##  3 Married smoke_last        84    64.1 
##  4 Married smoke_days        73    55.7 
##  5 Married drink_average     68    51.9 
##  6 Married health_poor       67    51.1 
##  7 Married drink_days        67    51.1 
##  8 Married weight_lbs         6     4.58
##  9 Married bmi                6     4.58
## 10 Married diet_fruit         4     3.05
## # … with 221 more rows</code></pre>
<p><code>gg_miss_fct</code> can also be used to explore missingness along time, like so:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span>(oceanbuoys, year)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/unnamed-chunk-1-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># to load who data</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyr)</span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="kw"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span>(who, year)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/unnamed-chunk-1-2.png" width="500" style="display: block; margin: auto;"></p>
<p>(Thanks to <a href="https://github.com/mpaulacaldas">Maria Paula Caldas</a> for inspiration for this visualisation, <a href="https://github.com/njtierney/naniar/issues/254">discussed here</a>)</p>
</div>
<div id="missingness-along-a-repeating-span-with-gg_miss_span" class="section level2">
<h2 class="hasAnchor">
<a href="#missingness-along-a-repeating-span-with-gg_miss_span" class="anchor"></a>Missingness along a repeating span with <code>gg_miss_span</code>
</h2>
<p>This plot shows the number of missings in a given span, or breaksize, for a single selected variable. In this case we look at the span of <code>hourly_counts</code> from the pedestrian dataset. It is powered by the <code>miss_var_span</code> function</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># data method</span></span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="kw"><a href="../reference/miss_var_span.html">miss_var_span</a></span>(pedestrian, hourly_counts, <span class="dt">span_every =</span> <span class="dv">3000</span>)</span></code></pre></div>
<pre><code>## # A tibble: 13 x 6
##    span_counter n_miss n_complete prop_miss prop_complete n_in_span
##           &lt;int&gt;  &lt;int&gt;      &lt;int&gt;     &lt;dbl&gt;         &lt;dbl&gt;     &lt;int&gt;
##  1            1      0       3000  0                1          3000
##  2            2      0       3000  0                1          3000
##  3            3      1       2999  0.000333         1.00       3000
##  4            4    121       2879  0.0403           0.960      3000
##  5            5    503       2497  0.168            0.832      3000
##  6            6    555       2445  0.185            0.815      3000
##  7            7    190       2810  0.0633           0.937      3000
##  8            8      0       3000  0                1          3000
##  9            9      1       2999  0.000333         1.00       3000
## 10           10      0       3000  0                1          3000
## 11           11      0       3000  0                1          3000
## 12           12    745       2255  0.248            0.752      3000
## 13           13    432       1268  0.254            0.746      1700</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span>(pedestrian, hourly_counts, <span class="dt">span_every =</span> <span class="dv">3000</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># works with the rest of ggplot</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="kw"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span>(pedestrian, hourly_counts, <span class="dt">span_every =</span> <span class="dv">3000</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">x =</span> <span class="st">"custom"</span>)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span>(pedestrian, hourly_counts, <span class="dt">span_every =</span> <span class="dv">3000</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_dark</a></span>()</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-3.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also explore <code>miss_var_span</code> by group with the <code>facet</code> argument.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="kw"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span>(pedestrian, </span>
<span id="cb37-2"><a href="#cb37-2"></a>             hourly_counts, </span>
<span id="cb37-3"><a href="#cb37-3"></a>             <span class="dt">span_every =</span> <span class="dv">3000</span>, </span>
<span id="cb37-4"><a href="#cb37-4"></a>             <span class="dt">facet =</span> sensor_name)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div id="gg_miss_case_cumsum" class="section level2">
<h2 class="hasAnchor">
<a href="#gg_miss_case_cumsum" class="anchor"></a><code>gg_miss_case_cumsum</code>
</h2>
<p>This plot shows the cumulative sum of missing values, reading the rows of the dataset from the top to bottom. It is powered by the <code><a href="../reference/miss_case_cumsum.html">miss_case_cumsum()</a></code> function.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="kw"><a href="../reference/gg_miss_case_cumsum.html">gg_miss_case_cumsum</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-cumsum-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="kw"><a href="../reference/gg_miss_case_cumsum.html">gg_miss_case_cumsum</a></span>(riskfactors, <span class="dt">breaks =</span> <span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-cumsum-2.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div id="gg_miss_var_cumsum" class="section level2">
<h2 class="hasAnchor">
<a href="#gg_miss_var_cumsum" class="anchor"></a><code>gg_miss_var_cumsum</code>
</h2>
<p>This plot shows the cumulative sum of missing values, reading columns from the left to the right of your dataframe. It is powered by the <code><a href="../reference/miss_var_cumsum.html">miss_var_cumsum()</a></code> function.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw"><a href="../reference/gg_miss_var_cumsum.html">gg_miss_var_cumsum</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-cumsum-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div id="gg_miss_which" class="section level2">
<h2 class="hasAnchor">
<a href="#gg_miss_which" class="anchor"></a><code>gg_miss_which</code>
</h2>
<p>This plot shows a set of rectangles that indicate whether there is a missing element in a column or not.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="kw"><a href="../reference/gg_miss_which.html">gg_miss_which</a></span>(airquality)</span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-which-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#getting-started">Getting started</a><ul class="nav nav-pills nav-stacked">
<li><a href="#exploring-patterns-with-upsetr">Exploring patterns with UpSetR</a></li>
      </ul>
</li>
      <li>
<a href="#exploring-missingness-mechanisms">Exploring Missingness Mechanisms</a><ul class="nav nav-pills nav-stacked">
<li><a href="#geom_miss_point"><code>geom_miss_point</code></a></li>
      </ul>
</li>
      <li>
<a href="#general-visual-summaries-of-missing-data">General visual summaries of missing data</a><ul class="nav nav-pills nav-stacked">
<li><a href="#missingness-in-variables-with-gg_miss_var">Missingness in variables with <code>gg_miss_var</code></a></li>
      <li><a href="#missingness-in-cases-with-gg_miss_case">Missingness in cases with <code>gg_miss_case</code></a></li>
      <li><a href="#missingness-across-factors-with-gg_miss_fct">Missingness across factors with <code>gg_miss_fct</code></a></li>
      <li><a href="#missingness-along-a-repeating-span-with-gg_miss_span">Missingness along a repeating span with <code>gg_miss_span</code></a></li>
      <li><a href="#gg_miss_case_cumsum"><code>gg_miss_case_cumsum</code></a></li>
      <li><a href="#gg_miss_var_cumsum"><code>gg_miss_var_cumsum</code></a></li>
      <li><a href="#gg_miss_which"><code>gg_miss_which</code></a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicholas Tierney, Di Cook, Miles McBain, Colin Fay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '48bc42eefc5234a6463c3b99e53dfda1',
    indexName: 'naniar',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>

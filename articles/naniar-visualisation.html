<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="naniar">
<title>Gallery of Missing Data Visualisations • naniar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Gallery of Missing Data Visualisations">
<meta property="og:description" content="naniar">
<meta property="og:image" content="http://naniar.njtierney.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">naniar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/getting-started-w-naniar.html">Getting Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/naniar-visualisation.html">Gallery</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/replace-with-na.html">Replace with NA</a>
    <a class="dropdown-item" href="../articles/special-missing-values.html">Special Missings</a>
    <a class="dropdown-item" href="../articles/exploring-imputed-values.html">Exploring Imputations</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<h6 class="dropdown-header" data-toc-skip>News</h6>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.njtierney.com/post/2024/03/04/naniar-version-1-1-0-prince-caspian/">Version 1.1.0</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/njtierney/naniar/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Gallery of Missing Data Visualisations</h1>
                        <h4 data-toc-skip class="author">Nicholas
Tierney</h4>
            
            <h4 data-toc-skip class="date">2024-03-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/njtierney/naniar/blob/HEAD/vignettes/naniar-visualisation.Rmd" class="external-link"><code>vignettes/naniar-visualisation.Rmd</code></a></small>
      <div class="d-none name"><code>naniar-visualisation.Rmd</code></div>
    </div>

    
    
<p>There are a variety of different plots to explore missing data
available in the naniar package. This vignette simply showcases all of
the visualisations. If you would like to know more about the philosophy
of the <code>naniar</code> package, you should read the vignette <a href="http://naniar.njtierney.com/articles/getting-started-w-naniar.html">Getting
Started with naniar</a>.</p>
<p>A key point to remember with the visualisation tools in
<code>naniar</code> is that there is a way to get the data from the plot
out from the visualisation.</p>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>One of the first plots that I recommend you start with when you are
first exploring your missing data, is the <code><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html" class="external-link">vis_miss()</a></code> plot,
which is re-exported from <a href="https://github.com/ropensci/visdat" class="external-link"><code>visdat</code></a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/njtierney/naniar" class="external-link">naniar</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/visdat/reference/vis_miss.html" class="external-link">vis_miss</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/vis-miss-1.png" width="500" style="display: block; margin: auto;"></p>
<p>This plot provides a specific visualiation of the amount of missing
data, showing in black the location of missing values, and also
providing information on the overall percentage of missing values
overall (in the legend), and in each variable.</p>
<div class="section level3">
<h3 id="exploring-patterns-with-upsetr">Exploring patterns with UpSetR<a class="anchor" aria-label="anchor" href="#exploring-patterns-with-upsetr"></a>
</h3>
<p>An upset plot from the <code>UpSetR</code> package can be used to
visualise the patterns of missingness, or rather the combinations of
missingness across cases. To see combinations of missingness and
intersections of missingness amongst variables, use the
<code>gg_miss_upset</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-1.png" width="500" style="display: block; margin: auto;"></p>
<p>This tells us:</p>
<ul>
<li>Only Ozone and Solar.R have missing values</li>
<li>Ozone has the most missing values</li>
<li>There are 2 cases where both Solar.R and Ozone have missing values
together</li>
</ul>
<p>We can explore this with more complex data, such as riskfactors:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span><span class="op">(</span><span class="va">riskfactors</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/upset-plot-riskfactors-1.png" width="500" style="display: block; margin: auto;"></p>
<p>The default option of <code>gg_miss_upset</code> is taken from
<code><a href="https://rdrr.io/pkg/UpSetR/man/upset.html" class="external-link">UpSetR::upset</a></code> - which is to use up to 5 sets and up to 40
interactions. Here, setting <code>nsets = 5</code> means to look at 5
variables and their combinations. The number of combinations or rather
<code>intersections</code> is controlled by <code>nintersects</code>.
You could, for example look at all of the number of missing variables
using <code>n_var_miss</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># how many missings?</span></span>
<span><span class="fu"><a href="../reference/n-var-case-miss.html">n_var_miss</a></span><span class="op">(</span><span class="va">riskfactors</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 24</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span><span class="op">(</span><span class="va">riskfactors</span>, nsets <span class="op">=</span> <span class="fu"><a href="../reference/n-var-case-miss.html">n_var_miss</a></span><span class="op">(</span><span class="va">riskfactors</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-n-var-miss-1.png" width="500" style="display: block; margin: auto;"></p>
<p>If there are 40 intersections, there will be up to 40 combinations of
variables explored. The number of sets and intersections can be changed
by passing arguments <code>nsets = 10</code> to look at 10 sets of
variables, and <code>nintersects = 50</code> to look at 50
intersections.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span><span class="op">(</span><span class="va">riskfactors</span>, </span>
<span>              nsets <span class="op">=</span> <span class="fl">10</span>,</span>
<span>              nintersects <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-n-sets-1.png" width="500" style="display: block; margin: auto;"></p>
<p>Setting <code>nintersects</code> to <code>NA</code> it will plot all
sets and all intersections.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_upset.html">gg_miss_upset</a></span><span class="op">(</span><span class="va">riskfactors</span>, </span>
<span>              nsets <span class="op">=</span> <span class="fl">10</span>,</span>
<span>              nintersects <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-upset-nintersect-NA-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="exploring-missingness-mechanisms">Exploring Missingness Mechanisms<a class="anchor" aria-label="anchor" href="#exploring-missingness-mechanisms"></a>
</h2>
<p>There are a few different ways to explore different missing data
mechanisms and relationships. One way incorporates the method of
shifting missing values so that they can be visualised on the same axes
as the regular values, and then colours the missing and not missing
points. This is implemented with <code><a href="../reference/geom_miss_point.html">geom_miss_point()</a></code>.</p>
<div class="section level3">
<h3 id="geom_miss_point">
<code>geom_miss_point</code><a class="anchor" aria-label="anchor" href="#geom_miss_point"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co"># using regular geom_point()</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">airquality</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Ozone</span>,</span>
<span>           y <span class="op">=</span> <span class="va">Solar.R</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 42 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_point()`).</span></span></code></pre>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/njtierney/naniar" class="external-link">naniar</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># using  geom_miss_point()</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">airquality</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Ozone</span>,</span>
<span>           y <span class="op">=</span> <span class="va">Solar.R</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Facets!</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">airquality</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Ozone</span>,</span>
<span>           y <span class="op">=</span> <span class="va">Solar.R</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">Month</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-3.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Themes</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">airquality</span>,</span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Ozone</span>,</span>
<span>           y <span class="op">=</span> <span class="va">Solar.R</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="../reference/geom_miss_point.html">geom_miss_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_dark</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/ggplot-geom-miss-point-4.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="general-visual-summaries-of-missing-data">General visual summaries of missing data<a class="anchor" aria-label="anchor" href="#general-visual-summaries-of-missing-data"></a>
</h2>
<p>Here are some function that provide quick summaries of missingness in
your data, they all start with <code>gg_miss_</code> - so that they are
easy to remember and tab-complete.</p>
<div class="section level3">
<h3 id="missingness-in-variables-with-gg_miss_var">Missingness in variables with <code>gg_miss_var</code><a class="anchor" aria-label="anchor" href="#missingness-in-variables-with-gg_miss_var"></a>
</h3>
<p>This plot shows the number of missing values in each variable in a
dataset. It is powered by the <code><a href="../reference/miss_var_summary.html">miss_var_summary()</a></code>
function.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Look at all the missing ones"</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-2.png" width="500" style="display: block; margin: auto;"></p>
<p>If you wish, you can also change whether to show the % of missing
instead with <code>show_pct = TRUE</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span><span class="op">(</span><span class="va">airquality</span>, show_pct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-show-pct-1.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also plot the number of missings in a variable grouped by
another variable using the <code>facet</code> argument.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_var.html">gg_miss_var</a></span><span class="op">(</span><span class="va">airquality</span>,</span>
<span>            facet <span class="op">=</span> <span class="va">Month</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="missingness-in-cases-with-gg_miss_case">Missingness in cases with <code>gg_miss_case</code><a class="anchor" aria-label="anchor" href="#missingness-in-cases-with-gg_miss_case"></a>
</h3>
<p>This plot shows the number of missing values in each case. It is
powered by the <code><a href="../reference/miss_case_summary.html">miss_case_summary()</a></code> function.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Number of Cases"</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-2.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also order by the number of cases using
<code>order_cases = TRUE</code></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span><span class="op">(</span><span class="va">airquality</span>, order_cases <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-order-by-case-1.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also explore the missingness in cases over some variable
using <code>facet = Month</code></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_case.html">gg_miss_case</a></span><span class="op">(</span><span class="va">airquality</span>, facet <span class="op">=</span> <span class="va">Month</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="missingness-across-factors-with-gg_miss_fct">Missingness across factors with <code>gg_miss_fct</code><a class="anchor" aria-label="anchor" href="#missingness-across-factors-with-gg_miss_fct"></a>
</h3>
<p>This plot shows the number of missings in each column, broken down by
a categorical variable from the dataset. It is powered by a
<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by</a></code> statement followed by
<code><a href="../reference/miss_var_summary.html">miss_var_summary()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">riskfactors</span>, fct <span class="op">=</span> <span class="va">marital</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-fct-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">riskfactors</span>, fct <span class="op">=</span> <span class="va">marital</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"NA in Risk Factors and Marital status"</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-fct-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># using group_by</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">riskfactors</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">marital</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/miss_var_summary.html">miss_var_summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 231 × 4</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   marital [7]</span></span></span>
<span><span class="co">##    marital variable      n_miss pct_miss</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;num&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Married smoke_stop       120    91.6 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Married pregnant         117    89.3 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Married smoke_last        84    64.1 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Married smoke_days        73    55.7 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Married drink_average     68    51.9 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Married health_poor       67    51.1 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Married drink_days        67    51.1 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Married weight_lbs         6     4.58</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Married bmi                6     4.58</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Married diet_fruit         4     3.05</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 221 more rows</span></span></span></code></pre>
<p><code>gg_miss_fct</code> can also be used to explore missingness
along time, like so:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span><span class="op">(</span><span class="va">oceanbuoys</span>, <span class="va">year</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/unnamed-chunk-1-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># to load who data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gg_miss_fct.html">gg_miss_fct</a></span><span class="op">(</span><span class="va">who</span>, <span class="va">year</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/unnamed-chunk-1-2.png" width="500" style="display: block; margin: auto;"></p>
<p>(Thanks to <a href="https://github.com/mpaulacaldas" class="external-link">Maria Paula
Caldas</a> for inspiration for this visualisation, <a href="https://github.com/njtierney/naniar/issues/254" class="external-link">discussed
here</a>)</p>
</div>
<div class="section level3">
<h3 id="missingness-along-a-repeating-span-with-gg_miss_span">Missingness along a repeating span with
<code>gg_miss_span</code><a class="anchor" aria-label="anchor" href="#missingness-along-a-repeating-span-with-gg_miss_span"></a>
</h3>
<p>This plot shows the number of missings in a given span, or breaksize,
for a single selected variable. In this case we look at the span of
<code>hourly_counts</code> from the pedestrian dataset. It is powered by
the <code>miss_var_span</code> function</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># data method</span></span>
<span></span>
<span><span class="fu"><a href="../reference/miss_var_span.html">miss_var_span</a></span><span class="op">(</span><span class="va">pedestrian</span>, <span class="va">hourly_counts</span>, span_every <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 13 × 6</span></span></span>
<span><span class="co">##    span_counter n_miss n_complete prop_miss prop_complete n_in_span</span></span>
<span><span class="co">##           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>            1      0       <span style="text-decoration: underline;">3</span>000  0                1          <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>            2      0       <span style="text-decoration: underline;">3</span>000  0                1          <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>            3      1       <span style="text-decoration: underline;">2</span>999  0.000<span style="text-decoration: underline;">333</span>         1.00       <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>            4    121       <span style="text-decoration: underline;">2</span>879  0.040<span style="text-decoration: underline;">3</span>           0.960      <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>            5    503       <span style="text-decoration: underline;">2</span>497  0.168            0.832      <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>            6    555       <span style="text-decoration: underline;">2</span>445  0.185            0.815      <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>            7    190       <span style="text-decoration: underline;">2</span>810  0.063<span style="text-decoration: underline;">3</span>           0.937      <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>            8      0       <span style="text-decoration: underline;">3</span>000  0                1          <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>            9      1       <span style="text-decoration: underline;">2</span>999  0.000<span style="text-decoration: underline;">333</span>         1.00       <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>           10      0       <span style="text-decoration: underline;">3</span>000  0                1          <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span>           11      0       <span style="text-decoration: underline;">3</span>000  0                1          <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span>           12    745       <span style="text-decoration: underline;">2</span>255  0.248            0.752      <span style="text-decoration: underline;">3</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span>           13    432       <span style="text-decoration: underline;">1</span>268  0.254            0.746      <span style="text-decoration: underline;">1</span>700</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span><span class="op">(</span><span class="va">pedestrian</span>, <span class="va">hourly_counts</span>, span_every <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># works with the rest of ggplot</span></span>
<span><span class="fu"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span><span class="op">(</span><span class="va">pedestrian</span>, <span class="va">hourly_counts</span>, span_every <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"custom"</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-2.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span><span class="op">(</span><span class="va">pedestrian</span>, <span class="va">hourly_counts</span>, span_every <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_dark</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-3.png" width="500" style="display: block; margin: auto;"></p>
<p>You can also explore <code>miss_var_span</code> by group with the
<code>facet</code> argument.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_span.html">gg_miss_span</a></span><span class="op">(</span><span class="va">pedestrian</span>, </span>
<span>             <span class="va">hourly_counts</span>, </span>
<span>             span_every <span class="op">=</span> <span class="fl">3000</span>, </span>
<span>             facet <span class="op">=</span> <span class="va">sensor_name</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-span-group-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="gg_miss_case_cumsum">
<code>gg_miss_case_cumsum</code><a class="anchor" aria-label="anchor" href="#gg_miss_case_cumsum"></a>
</h3>
<p>This plot shows the cumulative sum of missing values, reading the
rows of the dataset from the top to bottom. It is powered by the
<code><a href="../reference/miss_case_cumsum.html">miss_case_cumsum()</a></code> function.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_case_cumsum.html">gg_miss_case_cumsum</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-cumsum-1.png" width="500" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gg_miss_case_cumsum.html">gg_miss_case_cumsum</a></span><span class="op">(</span><span class="va">riskfactors</span>, breaks <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-case-cumsum-2.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="gg_miss_var_cumsum">
<code>gg_miss_var_cumsum</code><a class="anchor" aria-label="anchor" href="#gg_miss_var_cumsum"></a>
</h3>
<p>This plot shows the cumulative sum of missing values, reading columns
from the left to the right of your dataframe. It is powered by the
<code><a href="../reference/miss_var_cumsum.html">miss_var_cumsum()</a></code> function.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_var_cumsum.html">gg_miss_var_cumsum</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-var-cumsum-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="gg_miss_which">
<code>gg_miss_which</code><a class="anchor" aria-label="anchor" href="#gg_miss_which"></a>
</h3>
<p>This plot shows a set of rectangles that indicate whether there is a
missing element in a column or not.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_miss_which.html">gg_miss_which</a></span><span class="op">(</span><span class="va">airquality</span><span class="op">)</span></span></code></pre></div>
<p><img src="naniar-visualisation_files/figure-html/gg-miss-which-1.png" width="500" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicholas Tierney, <a href="http://www.dicook.org/" class="external-link">Di Cook</a>, <a href="https://milesmcbain.xyz/" class="external-link">Miles McBain</a>, <a href="https://colinfay.me/" class="external-link">Colin Fay</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
